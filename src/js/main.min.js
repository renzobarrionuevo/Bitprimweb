function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function renderTeamBgMask(){}function isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}var autoSidebarSelect=!0;function sidebarSelect(e){$("#sidebar .sections a.active").removeClass("active"),$("#sidebar .sections a[data-key="+e+"]").addClass("active"),$("navbar .current-section").text($("#sidebar .sections a[data-key="+e+"]").text())}var getIOSWindowHeight=function(){var e=document.documentElement.clientWidth/window.innerWidth;return window.innerHeight*e},getHeightOfIOSToolbars=function(){var e=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<e?e:0};function isPortrait(){return window.innerHeight>window.innerWidth}var height=window.innerHeight,portrait=isPortrait();function initHeadHeight(){$(window).on("resize",function(){portrait!=isPortrait()&&(e(),portrait=isPortrait())}),height=window.innerHeight,$("#head").css("height",height+"px");var e=function(){window.innerHeight!=height&&(height=window.innerHeight,$("#head").css("height",height+"px"))}}function openSidebar(){$(this).addClass("opening"),$("#sidebar").addClass("mobile-menu"),$(".toggle-menu .icon-menu").removeClass("active"),setTimeout(function(){$("#sidebar").css("cssText","left: 0px !important;"),setTimeout(function(){$("#sidebar .close").addClass("active")},10)},200),$(".close").removeClass("closing")}function validateContactForm(){var e=$(".contact-form [name=name]").val(),t=$(".contact-form [name=lastName]").val(),a=$(".contact-form [name=email]").val(),i=$(".contact-form [name=message]").val();return""==e?{field:"name",msg:"Please complete this required field."}:""==t?{field:"lastName",msg:"Please complete this required field."}:""==a?{field:"email",msg:"Please complete this required field."}:validateEmail(a)?""==i?{field:"message",msg:"Please complete this required field."}:null:{field:"email",msg:"Please enter a valid email address."}}function initSectionWaypoints(){$("section").each(function(){var e=$(this),t=e.attr("id");e.waypoint(function(e){"head"!=t&&autoSidebarSelect&&sidebarSelect(t)},{offset:"1%"})}),$("#platform").waypoint(function(e){"down"===e&&$("#sidebar").css({opacity:0})},{offset:"40%"}),$("#platform").waypoint(function(e){"down"===e&&($("navbar").removeClass("hidden"),$("#sidebar").addClass("fixed"),$("#sidebar").css({opacity:1})),"up"===e&&($("#sidebar").removeClass("fixed"),$("navbar").addClass("hidden"))},{offset:"25%"})}function initSidebar(){var e=$("#head h1").offset().left;992<=$(window).width()&&$("#sidebar").css({left:e}),$("#head .white-bar").width($("#head h1 img").width()),$("#sidebar").removeClass("hidden")}var prevScrollpos=window.pageYOffset;function checkWidthsAndHeights(){$("*[data-half-width]").each(function(){var e=$(this).attr("data-half-width");$(this).css("width",$(e).width()/2)}),$("*[data-height-as]").each(function(){var e=$(this).attr("data-height-as");$(this).css("height",$(e).height())}),$("*[data-width-as]").each(function(){var e=$(this).attr("data-width-as");$(this).css("width",$(e).width())})}window.onscroll=function(){var e=window.pageYOffset;e<prevScrollpos?$("navbar").css({top:"0px"}):$("navbar").css({top:"-90px"}),prevScrollpos=e};var animationEnd=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var a in t)if(void 0!==e.style[a])return t[a]}(document.createElement("div"));$(".animated").css("opacity",0),$(".animated").each(function(){var a=this,i=$(a).attr("data-animated"),e=$(a).attr("data-animated-options");$(a).waypoint(function(){if($(a)[0].hasAttribute("data-re-draw-after-animate")&&!$(a).hasClass(i))if($(a)[0].hasAttribute("data")){var e=$(a).attr("data");$(a).attr("data",e+"?reAnim")}else{var t=$(a).attr("src");$(a).attr("src",t+"?reAnim")}$(a).addClass(i)},null!=e?JSON.parse(e):{offset:"90%"}),$(a).one(animationEnd,function(){checkWidthsAndHeights()})}),$(document).ready(function(){initHeadHeight();var e=document.getElementById("head-scene");new Parallax(e,{relativeInput:!0,frictionX:.3,frictionY:.3,scalarX:2,scalarY:2,calibrateX:!0,calibrateY:!0,clipRelativeInput:!0,onReady:function(){setTimeout(function(){$(".layer.hidden").removeClass("hidden")},1e3)}});checkWidthsAndHeights(),$(window).resize(function(){setTimeout(function(){renderTeamBgMask(),checkWidthsAndHeights(),initSidebar()},1500)}),$(".animated").css("opacity",0),$(".animated").each(function(){var a=this,i=$(a).attr("data-animated"),e=$(a).attr("data-animated-options");$(a).waypoint(function(){if($(a)[0].hasAttribute("data-re-draw-after-animate")&&!$(a).hasClass(i))if($(a)[0].hasAttribute("data")){var e=$(a).attr("data");$(a).attr("data",e+"?reAnim")}else{var t=$(a).attr("src");$(a).attr("src",t+"?reAnim")}$(a).addClass(i)},null!=e?JSON.parse(e):{offset:"90%"}),$(a).one(animationEnd,function(){checkWidthsAndHeights()})}),$(".team-carousel").slick({prevArrow:"",nextArrow:"",infinite:!0,dots:!0,arrows:!1,slidesPerRow:1,slidesToShow:2,slidesToScroll:2,rows:2,mobileFirst:!0,responsive:[{breakpoint:992,settings:{infinite:!1,dots:!1,arrows:!1,slidesPerRow:4,rows:3}}]}),$(".team-carousel").slick("refresh"),renderTeamBgMask(),$(".team-bg-mask").addClass("visible"),$(".team-member img").on("mouseenter",function(){}),$(".team-member img").on("mouseleave",function(){$(this).attr("src",$(this).data("original-img"))}),$(".contact-form").on("click","label",function(e){e.stopPropagation(),$(this).addClass("hidden"),$(this).siblings("input,textarea").focus()}),$(".contact-form").on("keyup","input,textarea",function(e){0<$(this).val().length?($(this).siblings("label").addClass("hidden"),$(this).focus()):$(this).siblings("label").removeClass("hidden")}),$(".contact-form").on("blur","input,textarea",function(e){e.stopPropagation(),""==$(this).val()&&$(this).siblings("label").removeClass("hidden")}),$(".contact-form").on("submit",function(e){e.preventDefault(),$(".contact-form .error").remove(),$(".gral-error").addClass("hidden");var t=validateContactForm();null!=t?$(".contact-form [name="+t.field+"]").closest(".field").append($("<span></span>").addClass("error").text(t.msg)):0==grecaptcha.getResponse().length?$(".captcha").append($("<span></span>").addClass("error").text("Invalid Captcha")):$.ajax({url:$(this).attr("action"),method:"POST",data:$(this).serialize(),dataType:"json"}).done(function(e){"success"==e.status?($(".captcha").addClass("hidden"),$(".submit-btn-wrapper").addClass("hidden"),$(".result").removeClass("hidden")):$(".gral-error").removeClass("hidden")}).fail(function(){$(".gral-error").removeClass("hidden")})}),$("#sidebar .sections").on("click","a",function(e){e.preventDefault(),autoSidebarSelect=!1,$("#sidebar").removeClass("mobile-menu"),$(".toggle-menu .icon-menu").addClass("active");var t=$(this).data("key");$.smoothScroll({scrollTarget:"#"+t,offset:parseInt($(this).data("scroll-offset")),afterScroll:function(e){sidebarSelect(t),autoSidebarSelect=!0}})}),$(document).on("click",".scrollable",function(e){e.preventDefault();var t=$(this).data("key");$.smoothScroll({scrollTarget:"#"+t,offset:parseInt($(this).data("scroll-offset")),afterScroll:function(e){sidebarSelect(t)}})}),$("#sidebar").on("click",".close",function(e){$(".close").addClass("closing"),$(".toggle-menu .icon-menu").addClass("active"),setTimeout(function(){$("#sidebar").removeClass("mobile-menu")},300),$("#sidebar").css("cssText","left: 100% !important;"),$(".toggle-menu").removeClass("opening"),$("#sidebar .close").removeClass("active")}),$("#head").on("click",".toggle-menu",function(e){e.preventDefault(),openSidebar()}),$("navbar").on("click",".toggle-menu",function(e){e.preventDefault(),openSidebar()}),$("#resources").on("click",".resource a",function(e){e.stopPropagation()}),$("#resources").on("click",".resource",function(e){window.open($(this).find("a").attr("href"))}),initSectionWaypoints(),initSidebar(),992<=$(window).width()&&isMobileDevice()&&$(".features").addClass("forced-rings")}),$(window).on("load",function(e){initHeadHeight()});